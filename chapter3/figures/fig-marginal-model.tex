
%\documentclass{article}
% \usepackage{pgf}
% \usepackage{tikz}
% \usetikzlibrary{arrows,automata,positioning,shapes}
% \usepackage{verbatim}
% \usepackage{graphicx}

\tikzset{
  font={\fontsize{9pt}{11}\selectfont}
}

\definecolor{colorR}{RGB}{228,26,28}    % RED
\definecolor{colorB}{RGB}{55,126,184}   % BLUE
\definecolor{colorG}{RGB}{77,175,74}    % GREEN
\definecolor{colorP}{RGB}{152,78,163}   % PURPLE
\definecolor{colorO}{RGB}{255,127,0}    % ORANGE
\definecolor{colorY}{RGB}{255,255,51}   % YELLOW
\definecolor{colorBn}{RGB}{166,86,40}   % BROWN
\definecolor{colorPk}{RGB}{247,129,191} % PINK
\definecolor{colorGy}{RGB}{153,153,153} % GRAY

\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=7cm,ultra thick]
  \tikzstyle{every node}=[font=\large]

  \node[circle,fill=colorG!50,minimum size=1cm]  (S)					  {\textbf{Start}};
  \node[circle,fill=colorB!50,minimum size=1cm]  (M) [right=30mm of S]  {\textbf{M}};
  \node[circle,fill=colorB!50,minimum size=1cm]  (I) [above right of=M] {\textbf{I}};
  \node[circle,fill=colorR!50,minimum size=1cm]  (E) [below right of=M] {\textbf{End}};
  \node[circle,fill=colorB!50,minimum size=1cm]  (D) [below right of=I] {\textbf{D}};

  \path (S) edge 			  node {}	(M)
	(M) edge [out=265,in=200,looseness=10]  node [midway,font=\large] {$(1-g)^2 \cdot s$} (M)
  		edge [bend left]  node [font=\large] {$g$} (I)
            edge [out=10,in=170]  node [font=\large,pos=0.4] {$(1-g)\cdot g$} (D)
            edge [bend right] node [pos=0.35, rotate=-45, font=\large] {$(1-g)^2$}	(E)
        (I) edge [out=120,in=60,looseness=10] node [font=\large] {$e$} (I)
            edge [out=240,in=30]  node [rotate=50, above=1em, font=\large] {$(1-e)\cdot (1-g) \cdot s$} (M)
            edge [bend left]  node [pos=0.3, rotate=-45, right=1.75em, font=\large] {$(1-e) \cdot g $} (D)
            edge [bend left] node [pos=0.96, rotate=60, right=1.5em, font=\large] {$(1-e) \cdot (1-g)$} (E)
        (D) edge [out=30,in=330,looseness=10] node [font=\large] {$e$} (D)
            edge [out=190,in=-10]  node [below, font=\large, pos=0.6] {$(1-e) \cdot s$} (M)
            edge [bend left]  node [font=\large] {$1-e$} (E);

  \node[text width=4cm, below left=-10mm and 28mm of E, font=\bfseries] (parameters) {
  \begin{tabular}{r@{\,: }l}
  \multicolumn{2}{l}{\textbf{Parameters}}\\
    \hline
  $g$ & gap opening\\
  $e$ & gap extension\\
  $s$ & substitution\\
  \end{tabular}
  };

\end{tikzpicture}

